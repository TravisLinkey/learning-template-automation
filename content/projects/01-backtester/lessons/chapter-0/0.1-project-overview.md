---
title: "Project 1 — Backtesting Engine (Foundations)"
chapter: 0
lesson: 1
author: "Learning Library"
date: "2025-02-08"
description: "Build a simple, reliable backtesting system from scratch with Python and Pandas"
---

# 0.1 — Project 1: Backtesting Engine (Foundations)

Build a simple, reliable backtesting system from scratch. This project establishes the core skills you'll need for all later quant projects: loading data, generating signals, and evaluating performance.

## Objective

Create a working backtest engine that can load historical data, simulate trades based on a strategy, and produce performance reports.

## Focus Areas

- Loading and cleaning historical market data
- Understanding time series
- Computing indicators
- Evaluating strategy performance

## Example Strategies to Implement

- **Moving average crossover** — Go long when short MA crosses above long MA; exit or short when it crosses below.
- **Simple momentum strategy** — Trade based on price or return momentum over a lookback window.

## Technologies

- **Python** — Core implementation
- **Pandas** — Data manipulation and time series
- **yfinance** (or another data source) — Historical market data
- **Jupyter Notebooks** — Exploration and reporting (optional)

## Skills You'll Learn

- Data ingestion and cleaning
- Signal generation from indicators
- P&L calculation and trade simulation
- Performance metrics (returns, Sharpe, drawdown)
- Strategy evaluation and interpretation

## Deliverable

A working backtest engine that:

- Loads historical price data for one or more symbols
- Computes indicators (e.g., moving averages)
- Generates entry/exit signals
- Simulates trades (positions, P&L)
- Produces a performance report (returns, risk metrics, optional charts)

---

## Prerequisites (with links to lessons)

Before starting, you should be comfortable with:

| Topic | Why you need it | Where to learn |
|-------|-----------------|----------------|
| **Python basics** | Core language for the project | [Python & Pandas](/developer-python-pandas/) — start with [Chapter 0](/developer-python-pandas/) (0.1, 0.2) |
| **Pandas** | DataFrames, indexing, time series, loading data | [Python & Pandas](/developer-python-pandas/) — [1.1 Series and DataFrame](/developer-python-pandas/lessons/1.1), [1.2 Indexing](/developer-python-pandas/lessons/1.2), [1.3 Time series and DatetimeIndex](/developer-python-pandas/lessons/1.3), [1.4 Loading and cleaning market data](/developer-python-pandas/lessons/1.4) |
| **Basic statistics** | Returns, volatility, Sharpe ratio for performance metrics | [Applied Statistics](/mathematics-statistics/) — [1.1 Returns and volatility for backtesting](/mathematics-statistics/lessons/1.1) |
| **Probability foundations** | Interpreting strategy results, risk, and uncertainty | [Quant Research](/quant/lessons/0.1) — [Introduction](/quant/lessons/0.1) (see “Interpreting backtest results”) |

All of these subjects are available from the [homepage](/); study them in any order, then return here to implement the backtester.

---

## Steps to Complete the Project

1. **Set up the environment**  
   Create a project folder (e.g. `projects/01_backtester`), a virtual environment, and install `pandas`, `numpy`, and `yfinance`. Optionally add `matplotlib` or `plotly` for charts.

2. **Load and clean historical data**  
   Use `yfinance` (or another source) to download daily OHLCV data for at least one symbol. Handle missing values, align dates, and ensure a single timezone. Store the result in a Pandas DataFrame with a DatetimeIndex.

3. **Compute indicators**  
   Implement at least one indicator (e.g., simple moving average). Add columns to your DataFrame for the indicator values. Validate against a known reference (e.g., first few values by hand or another library).

4. **Define and implement signal logic**  
   From your indicators, define clear rules for when to enter long, exit, and optionally short. Implement this as a function that returns a series of signals (e.g., +1, -1, 0) or explicit entry/exit timestamps.

5. **Simulate trades**  
   Walk through the signal series and the price series to compute position sizes and P&L. Assume a simple rule (e.g., fixed notional per trade, or full equity). Track equity curve and trade list.

6. **Compute performance metrics**  
   From the equity curve and/or trade list, compute total return, annualized return, volatility (e.g., annualized std of returns), and Sharpe ratio (or similar). Optionally add max drawdown and win rate.

7. **Produce a report**  
   Output a summary (print or notebook): key metrics and, if you added plotting, an equity curve and/or drawdown chart.

8. **Document and refactor**  
   Add a short README describing how to run the backtest and what the strategy does. Clean up the code so it’s readable and reusable for the next project.

---

## Hints (with backlinks)

- **Data shape** — Keep one row per date and one column per series (open, high, low, close, volume, then your indicators). See [1.1 Series and DataFrame](/developer-python-pandas/lessons/1.1) and [1.3 Time series and DatetimeIndex](/developer-python-pandas/lessons/1.3).
- **Avoiding look-ahead bias** — Compute indicators and signals only from past data at each timestamp. Use “past only” slices as in [1.2 Indexing and selection](/developer-python-pandas/lessons/1.2); see [Quant Research — Introduction](/quant/lessons/0.1) for interpreting results.
- **P&L and slippage** — Start with close-to-close returns and no slippage. Later you can add a simple slippage model (e.g., fixed bps per trade).
- **Performance metrics** — Use the definitions in [Returns and volatility for backtesting](/mathematics-statistics/lessons/1.1): total return, annualized return and volatility, and Sharpe ratio.
- **Testing** — Sanity-check on a known period: e.g., a simple buy-and-hold should show positive return in a bull market. Compare your MA crossover against a manual calculation for a few bars.

---

## Goals

By the end of this project you should be able to:

- Load and clean historical OHLCV data in Pandas
- Compute at least one indicator and generate signals
- Simulate a strategy and produce an equity curve
- Report basic performance metrics and interpret them
- Use this engine as the foundation for Project 2 (paper trading bot)

Good luck—once this engine works, you’ll extend it in the next project with live data and real order execution (paper only).
